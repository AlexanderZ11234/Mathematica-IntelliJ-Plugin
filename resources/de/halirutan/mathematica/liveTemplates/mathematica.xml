<?xml version="1.0" encoding="UTF-8"?>

<templateSet group="Mathematica">
    <!-- Localization/scoping constructs -->
    <template name="loc_block" description="Block[{vars}, body]" toReformat="true"
              value="Block[{$VARS$}, $BODY$]$END$">
        <variable name="VARS" expression="" defaultValue="&quot;vars&quot;" alwaysStopAt="true" />
        <variable name="BODY" expression="" defaultValue="&quot;Null&quot;" alwaysStopAt="true" />
        <context>
            <option name="Mathematica" value="true"/>
        </context>
    </template>

    <template name="loc_block_s" description="Surround with Block" toReformat="true"
              value="Block[{$VARS$}, $SELECTION$]$END$">
        <variable name="VARS" expression="" defaultValue="&quot;vars&quot;" alwaysStopAt="true" />
        <context>
            <option name="Mathematica" value="true"/>
        </context>
    </template>

    <template name="loc_module" description="Module[{vars}, body]" toReformat="true"
              value="Module[{$VARS$}, $BODY$]$END$">
        <variable name="VARS" expression="" defaultValue="&quot;vars&quot;" alwaysStopAt="true" />
        <variable name="BODY" expression="" defaultValue="&quot;Null&quot;" alwaysStopAt="true" />
        <context>
            <option name="Mathematica" value="true"/>
        </context>
    </template>

    <template name="loc_module_s" description="Surround with Module" toReformat="true"
              value="Module[{$VARS$}, $SELECTION$]$END$">
        <variable name="VARS" expression="" defaultValue="&quot;vars&quot;" alwaysStopAt="true" />
        <context>
            <option name="Mathematica" value="true"/>
        </context>
    </template>

    <template name="loc_with" description="With[{vars}, body]" toReformat="true"
              value="With[{$VARS$}, $BODY$]$END$">
        <variable name="VARS" expression="" defaultValue="&quot;vars&quot;" alwaysStopAt="true" />
        <variable name="BODY" expression="" defaultValue="&quot;Null&quot;" alwaysStopAt="true" />
        <context>
            <option name="Mathematica" value="true"/>
        </context>
    </template>

    <template name="loc_with_s" description="Surround with With" toReformat="true"
              value="With[{$VARS$}, $SELECTION$]$END$">
        <variable name="VARS" expression="" defaultValue="&quot;vars&quot;" alwaysStopAt="true" />
        <context>
            <option name="Mathematica" value="true"/>
        </context>
    </template>

    <!-- Iteration -->
    <template name="iter_do" description="Do[body, {iter}]" toReformat="true"
              value="Do[$BODY$, {$ITER$$MORE_ARGS$}]$END$">
        <variable name="BODY" expression="" defaultValue="&quot;body&quot;" alwaysStopAt="true" />
        <variable name="ITER" expression="" defaultValue="&quot;iter&quot;" alwaysStopAt="true" />
        <variable name="MORE_ARGS" expression="" defaultValue="" alwaysStopAt="true" />
        <context>
            <option name="Mathematica" value="true"/>
        </context>
    </template>

    <template name="iter_for" description="For[start, test, inc, body]" toReformat="true"
              value="For[$VAR$ = $VAL$, $VAR$$TEST$$MAX$, $VAR$$INC$, $BODY$]$END$">
        <variable name="VAR" expression="" defaultValue="&quot;i&quot;" alwaysStopAt="true" />
        <variable name="VAL" expression="" defaultValue="&quot;0&quot;" alwaysStopAt="true" />
        <variable name="TEST" expression="" defaultValue="&quot;&lt;&quot;" alwaysStopAt="true" />
        <variable name="MAX" expression="" defaultValue="&quot;max&quot;" alwaysStopAt="true" />
        <variable name="INC" expression="" defaultValue="&quot;++&quot;" alwaysStopAt="true" />
        <variable name="BODY" expression="" defaultValue="&quot;body&quot;" alwaysStopAt="true" />
        <context>
            <option name="Mathematica" value="true"/>
        </context>
    </template>

    <template name="iter_table" description="Table[body, {var, min, max}]" toReformat="true"
              value="Table[$BODY$, {$VAR$, $START$, $STOP$$INC$}]$END$">
        <variable name="BODY" expression="" defaultValue="&quot;expr&quot;" alwaysStopAt="true" />
        <variable name="VAR" expression="" defaultValue="&quot;x&quot;" alwaysStopAt="true" />
        <variable name="START" expression="" defaultValue="&quot;xmin&quot;" alwaysStopAt="true" />
        <variable name="STOP" expression="" defaultValue="&quot;xmax&quot;" alwaysStopAt="true" />
        <variable name="INC" expression="" defaultValue="" alwaysStopAt="true" />
        <context>
            <option name="Mathematica" value="true"/>
        </context>
    </template>

    <template name="iter_fold" description="Fold[func, x, list]" toReformat="true"
              value="Fold[$FUNC$, $FIRST$, $LIST$]$END$">
        <variable name="FUNC" expression="" defaultValue="&quot;func&quot;" alwaysStopAt="true" />
        <variable name="FIRST" expression="" defaultValue="&quot;x&quot;" alwaysStopAt="true" />
        <variable name="LIST" expression="" defaultValue="&quot;list&quot;" alwaysStopAt="true" />
        <context>
            <option name="Mathematica" value="true"/>
        </context>
    </template>

    <template name="iter_nest" description="Nest[func, expr, n]" toReformat="true"
              value="Fold[$FUNC$, $EXPR$, $COUNT$]$END$">
        <variable name="FUNC" expression="" defaultValue="&quot;func&quot;" alwaysStopAt="true" />
        <variable name="EXPR" expression="" defaultValue="&quot;expr&quot;" alwaysStopAt="true" />
        <variable name="COUNT" expression="" defaultValue="&quot;n&quot;" alwaysStopAt="true" />
        <context>
            <option name="Mathematica" value="true"/>
        </context>
    </template>

    <!-- Control Flow -->
    <template name="ctrl_if" description="If[cond, then]" toReformat="true"
              value="If[$COND$, $THEN$]$END$">
        <variable name="COND" expression="" defaultValue="&quot;cond&quot;" alwaysStopAt="true" />
        <variable name="THEN" expression="" defaultValue="&quot;then&quot;" alwaysStopAt="true" />
        <context>
            <option name="Mathematica" value="true"/>
        </context>
    </template>

    <template name="ctrl_if_else" description="If[cond, then, else]" toReformat="true"
              value="If[$COND$, $THEN$, $ELSE$]$END$">
        <variable name="COND" expression="" defaultValue="&quot;cond&quot;" alwaysStopAt="true" />
        <variable name="THEN" expression="" defaultValue="&quot;then&quot;" alwaysStopAt="true" />
        <variable name="ELSE" expression="" defaultValue="&quot;else&quot;" alwaysStopAt="true" />
        <context>
            <option name="Mathematica" value="true"/>
        </context>
    </template>

    <template name="ctrl_switch" description="Switch[expr, form1, value1, form2, value2]" toReformat="true"
              value="Switch[$EXPR$, $FORM1$, $VAL1$, $FORM2$, $VAL2$$MORE_ARGS$]$END$">
        <variable name="EXPR" expression="" defaultValue="&quot;expr&quot;" alwaysStopAt="true" />
        <variable name="FORM1" expression="" defaultValue="&quot;form1&quot;" alwaysStopAt="true" />
        <variable name="VAL1" expression="" defaultValue="&quot;value1&quot;" alwaysStopAt="true" />
        <variable name="FORM2" expression="" defaultValue="&quot;form2&quot;" alwaysStopAt="true" />
        <variable name="VAL2" expression="" defaultValue="&quot;value2&quot;" alwaysStopAt="true" />
        <variable name="MORE_ARGS" expression="" defaultValue="" alwaysStopAt="true" />
        <context>
            <option name="Mathematica" value="true"/>
        </context>
    </template>

    <template name="ctrl_which" description="Which[test1, value1, test2, value2]" toReformat="true"
              value="Which[$TEST1$, $VAL1$, $TEST2$, $VAL2$$MORE_ARGS$]$END$">
        <variable name="TEST1" expression="" defaultValue="&quot;test1&quot;" alwaysStopAt="true" />
        <variable name="VAL1" expression="" defaultValue="&quot;value1&quot;" alwaysStopAt="true" />
        <variable name="TEST2" expression="" defaultValue="&quot;test2&quot;" alwaysStopAt="true" />
        <variable name="VAL2" expression="" defaultValue="&quot;value2&quot;" alwaysStopAt="true" />
        <variable name="MORE_ARGS" expression="" defaultValue="" alwaysStopAt="true" />
        <context>
            <option name="Mathematica" value="true"/>
        </context>
    </template>

    <template name="ctrl_check" description="Check[expr, fail, msg]" toReformat="true"
              value="Check[$EXPR$, $FAIL$, $MSG$]$END$">
        <variable name="EXPR" expression="" defaultValue="&quot;expr&quot;" alwaysStopAt="true" />
        <variable name="FAIL" expression="" defaultValue="&quot;fail&quot;" alwaysStopAt="true" />
        <variable name="MSG" expression="" defaultValue="&quot;symbol::msg&quot;" alwaysStopAt="true" />
        <context>
            <option name="Mathematica" value="true"/>
        </context>
    </template>

    <!-- Function calls -->
    <template name="func_pre" description="Prefix selection with f@" toReformat="true"
              value="$SYM$@($SELECTION$)$END$">
        <variable name="SYM" expression="" defaultValue="" alwaysStopAt="true" />
        <context>
            <option name="Mathematica" value="true"/>
        </context>
    </template>

    <template name="func_post" description="Postfix selection with //f" toReformat="true"
              value="($SELECTION$ // $SYM$)$END$">
        <variable name="SYM" expression="" defaultValue="" alwaysStopAt="true" />
        <context>
            <option name="Mathematica" value="true"/>
        </context>
    </template>

    <template name="func_call" description="Surround selection with f[]" toReformat="true"
              value="$SYM$[$SELECTION$$MORE_ARGS$]$END$">
        <variable name="SYM" expression="" defaultValue="" alwaysStopAt="true" />
        <variable name="MORE_ARGS" expression="" defaultValue="" alwaysStopAt="true" />
        <context>
            <option name="Mathematica" value="true"/>
        </context>
    </template>

    <!-- Parentheses, lists and associations -->
    <template name="surr_list" description="Surround selection with {}" toReformat="true"
              value="{$SELECTION$}$END$">
        <context>
            <option name="Mathematica" value="true"/>
        </context>
    </template>

    <template name="surr_parentheses" description="Surround selection with ()" toReformat="true"
              value="($SELECTION$)$END$">
        <context>
            <option name="Mathematica" value="true"/>
        </context>
    </template>

    <template name="surr_association" description="Surround selection with &lt;| |&gt;" toReformat="true"
              value="&lt;|$SELECTION$|&gt;$END$">
        <context>
            <option name="Mathematica" value="true"/>
        </context>
    </template>
</templateSet>